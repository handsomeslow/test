(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"7K0E":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{attrs:{shadow:""}},[a("Form",{ref:"formItem",attrs:{model:t.formItem,"label-width":80,rules:t.ruleValidate}},[a("FormItem",{attrs:{label:"标题",prop:"title"}},[a("Input",{attrs:{placeholder:"请输入文章标题..."},model:{value:t.formItem.title,callback:function(e){t.$set(t.formItem,"title",e)},expression:"formItem.title"}})],1),t._v(" "),a("FormItem",{attrs:{label:"文章类别",prop:"field"}},[a("Row",[a("Col",{attrs:{span:"6"}},[a("FormItem",[a("Select",{staticStyle:{width:"160px"},model:{value:t.formItem.field,callback:function(e){t.$set(t.formItem,"field",e)},expression:"formItem.field"}},[a("Option",{attrs:{value:"校园招聘"}},[t._v("校园招聘")]),t._v(" "),a("Option",{attrs:{value:"实习信息"}},[t._v("实习信息")])],1)],1)],1),t._v(" "),a("Col",{attrs:{span:"7"}},[a("FormItem",{attrs:{label:"招聘日期"}},[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placement:"bottom-end",placeholder:"请选择开始日期"},on:{"on-change":t.handleBeginDateChange},model:{value:t.formItem.beginDate,callback:function(e){t.$set(t.formItem,"beginDate",e)},expression:"formItem.beginDate"}})],1)],1),t._v(" "),a("Col",{attrs:{span:"7"}},[a("FormItem",[a("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placement:"bottom-end",placeholder:"请选择结束日期"},on:{"on-change":t.handleEndDateChange},model:{value:t.formItem.endDate,callback:function(e){t.$set(t.formItem,"endDate",e)},expression:"formItem.endDate"}})],1)],1)],1)],1),t._v(" "),a("FormItem",{attrs:{label:"Logo",prop:"imageUrl"}},[t.formItem.imageUrl?a("div",{staticClass:"upload-list"},[a("img",{attrs:{src:t.formItem.imageUrl}}),t._v(" "),a("div",{staticClass:"upload-list-cover"},[a("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(e){t.handleLogoView()}}}),t._v(" "),a("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleLogoRemove()}}})],1)]):a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"78px"},attrs:{"on-success":t.handleUploadSuccess,format:["jpg","jpeg","png"],"max-size":2048,type:"drag",headers:t.uploadHeader,action:t.uploadApi}},[a("div",{staticStyle:{width:"78px",height:"78px","line-height":"78px"}},[a("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])],1),t._v(" "),a("FormItem",{attrs:{label:"招聘方向",prop:"category"}},[a("CheckboxGroup",{model:{value:t.formItem.category,callback:function(e){t.$set(t.formItem,"category",e)},expression:"formItem.category"}},[a("Checkbox",{attrs:{label:"互联网"}}),t._v(" "),a("Checkbox",{attrs:{label:"游戏"}}),t._v(" "),a("Checkbox",{attrs:{label:"IT"}}),t._v(" "),a("Checkbox",{attrs:{label:"科技"}}),t._v(" "),a("Checkbox",{attrs:{label:"机械"}}),t._v(" "),a("Checkbox",{attrs:{label:"电气"}}),t._v(" "),a("Checkbox",{attrs:{label:"土木"}}),t._v(" "),a("Checkbox",{attrs:{label:"建筑"}}),t._v(" "),a("Checkbox",{attrs:{label:"交通"}}),t._v(" "),a("Checkbox",{attrs:{label:"制造"}}),t._v(" "),a("Checkbox",{attrs:{label:"金融"}}),t._v(" "),a("Checkbox",{attrs:{label:"能源"}}),t._v(" "),a("Checkbox",{attrs:{label:"航空"}}),t._v(" "),a("Checkbox",{attrs:{label:"教育"}})],1)],1),t._v(" "),a("FormItem",{attrs:{label:"原文地址"}},[a("Input",{attrs:{placeholder:"请输入原文地址..."},model:{value:t.formItem.originUrl,callback:function(e){t.$set(t.formItem,"originUrl",e)},expression:"formItem.originUrl"}})],1),t._v(" "),a("FormItem",{attrs:{label:"文章详情",prop:"content"}},[a("div",{ref:"editor",staticStyle:{"text-align":"left"}})]),t._v(" "),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formItem",0)}}},[t._v("保存草稿")]),t._v(" "),a("Button",{staticStyle:{"margin-left":"15px"},attrs:{type:"warning"},on:{click:function(e){t.handleSubmit("formItem",2)}}},[t._v("提交审核")])],1)],1),t._v(" "),a("Modal",{attrs:{title:"Logo预览"},on:{"on-ok":t.hideLogoView,"on-cancel":t.hideLogoView},model:{value:t.imageViewVisible,callback:function(e){t.imageViewVisible=e},expression:"imageViewVisible"}},[t.imageViewVisible?a("img",{staticClass:"logo-view",attrs:{src:t.formItem.imageUrl}}):t._e()])],1)},i=[],r=(a("VRzm"),a("GguQ")),n=a.n(r),l=a("sT5k"),s=a("wnYN"),c={components:{Editor:n.a},data:function(){return{formItem:{title:"",imageUrl:"",field:"",isRecommend:!0,isTop:!0,content:"",originUrl:"",isActive:0},ruleValidate:{title:[{required:!0,message:"标题不可为空",trigger:"blur"}],content:[{required:!0,message:"文章内容不可为空",trigger:"blur"}],imageUrl:[{required:!0,message:"logo还未上传",trigger:"blur"}],category:[{required:!0,type:"array",min:1,message:"至少选择一个招聘方向",trigger:"change"},{type:"array",max:5,message:"选择已达到上限",trigger:"change"}],field:[{required:!0,message:"请选择文章类别",trigger:"change"}]},imageViewVisible:!1,tags:[],uploadHeader:{authorization:Object(s["m"])()},uploadApi:"".concat(s["a"],"/article/upload")}},mounted:function(){var t=this;this.formItem.content="",this.formItem=this.$route.params;var e=new n.a(this.$refs.editor);e.customConfig.onchange=function(e){t.formItem.content=e},e.create(),e.txt.html(this.formItem.content)},methods:{handleSubmit:function(t,e){var a=this,o=this;this.$Loading.start(),this.formItem.isActive=e,this.$refs[t].validate(function(t){t?Object(l["a"])(a.formItem).then(function(t){a.$Notice.success({title:"保存成功"}),a.$router.push({name:"articlelist"})}).catch(function(t){o.$Modal.error({title:"抱歉",content:t.content})}).then(function(t){a.$Loading.finish()}):(a.$Loading.finish(),a.$Notice.error({title:"内容不完善，请检查后重新保存"}))})},handleUploadSuccess:function(t){t&&200===t.code&&t.data.length>0&&this.$set(this.formItem,"imageUrl",t.data[0])},handleLogoView:function(){this.imageViewVisible=!0},hideLogoView:function(){this.imageViewVisible=!1},handleLogoRemove:function(){this.$set(this.formItem,"imageUrl","")},showAcessDialog:function(){var t=this;this.$Modal.success({title:"未认证账号",content:"很抱歉该账号还未认证，认证后即可无限制发布校招信息，请先认证",okText:"去认证",onOk:function(){t.toSubmitCompany()}})},toSubmitCompany:function(){this.$router.push({name:"company_info"})},handleBeginDateChange:function(t){this.formItem.beginDate=t},handleEndDateChange:function(t){this.formItem.endDate=t}}},m=c,u=(a("wqvq"),a("KHd+")),d=Object(u["a"])(m,o,i,!1,null,null,null);e["default"]=d.exports},Pie8:function(t,e,a){},sT5k:function(t,e,a){"use strict";a.d(e,"e",function(){return i}),a.d(e,"c",function(){return r}),a.d(e,"a",function(){return n}),a.d(e,"b",function(){return l}),a.d(e,"f",function(){return s}),a.d(e,"d",function(){return c});a("VRzm");var o=a("Zt8a");function i(){return o["a"].request({url:"/getRecommendList",method:"get"})}function r(t,e){return o["a"].request({url:"/article/list",method:"get",params:{page:t,count:e}})}function n(t){return o["a"].request({url:"/article/create",method:"post",data:t})}function l(t){return o["a"].request({url:"/article/delete",method:"post",data:{id:t}})}function s(t){return o["a"].request({url:"/company/create",method:"post",data:t})}function c(t){return o["a"].request({url:"/company/getinfo",method:"get",params:{id:t}})}},wqvq:function(t,e,a){"use strict";var o=a("Pie8"),i=a.n(o);i.a}}]);