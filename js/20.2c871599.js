(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[20],{"3mzg":function(t,e,o){},"91qI":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("Form",{attrs:{model:t.formItem,"label-width":80}},[o("FormItem",{attrs:{label:"标题"}},[o("Input",{attrs:{placeholder:"请输入文章标题..."},model:{value:t.formItem.title,callback:function(e){t.$set(t.formItem,"title",e)},expression:"formItem.title"}})],1),t._v(" "),o("FormItem",{attrs:{label:"Logo"}},[t.formItem.imageUrl?o("div",{staticClass:"upload-list"},[o("img",{attrs:{src:t.formItem.imageUrl}}),t._v(" "),o("div",{staticClass:"upload-list-cover"},[o("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(e){t.handleLogoView()}}}),t._v(" "),o("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleLogoRemove()}}})],1)]):o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"78px"},attrs:{"on-success":t.handleUploadSuccess,format:["jpg","jpeg","png"],"max-size":2048,type:"drag",headers:t.uploadHeader,action:"http://127.0.0.1:7001/article/upload"}},[o("div",{staticStyle:{width:"78px",height:"78px","line-height":"78px"}},[o("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])],1),t._v(" "),o("FormItem",{attrs:{label:"文章类别"}},[o("Select",{staticStyle:{width:"160px"},model:{value:t.formItem.field,callback:function(e){t.$set(t.formItem,"field",e)},expression:"formItem.field"}},[o("Option",{attrs:{value:"校园招聘"}},[t._v("校园招聘")]),t._v(" "),o("Option",{attrs:{value:"实习信息"}},[t._v("实习信息")]),t._v(" "),o("Option",{attrs:{value:"官方活动"}},[t._v("官方活动")])],1)],1),t._v(" "),o("div",{staticStyle:{display:"flex"}},[o("FormItem",{attrs:{label:"是否在banner显示"}},[o("i-switch",{attrs:{size:"large"},model:{value:t.formItem.isTop,callback:function(e){t.$set(t.formItem,"isTop",e)},expression:"formItem.isTop"}},[o("span",{attrs:{slot:"open"},slot:"open"},[t._v("On")]),t._v(" "),o("span",{attrs:{slot:"close"},slot:"close"},[t._v("Off")])])],1),t._v(" "),o("FormItem",{attrs:{label:"是否内推"}},[o("i-switch",{attrs:{size:"large"},model:{value:t.formItem.isRecommend,callback:function(e){t.$set(t.formItem,"isRecommend",e)},expression:"formItem.isRecommend"}},[o("span",{attrs:{slot:"open"},slot:"open"},[t._v("On")]),t._v(" "),o("span",{attrs:{slot:"close"},slot:"close"},[t._v("Off")])])],1)],1),t._v(" "),o("FormItem",{attrs:{label:"原文地址"}},[o("Input",{attrs:{placeholder:"请输入原文地址..."},model:{value:t.formItem.originUrl,callback:function(e){t.$set(t.formItem,"originUrl",e)},expression:"formItem.originUrl"}})],1),t._v(" "),o("FormItem",[o("editor",{attrs:{cache:!1},on:{"on-change":t.handleChange},model:{value:t.formItem.content,callback:function(e){t.$set(t.formItem,"content",e)},expression:"formItem.content"}})],1),t._v(" "),o("FormItem",[o("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSave("formItem")}}},[t._v("保存")]),t._v(" "),o("Button",{staticStyle:{"margin-left":"15px"},attrs:{type:"warning"},on:{click:function(e){t.handleSubmit("formItem")}}},[t._v("发布")]),t._v(" "),o("Button",{staticStyle:{"margin-left":"15px"}},[t._v("取消")])],1)],1),t._v(" "),o("Modal",{attrs:{title:"View Image"},model:{value:t.imageViewVisible,callback:function(e){t.imageViewVisible=e},expression:"imageViewVisible"}},[t.imageViewVisible?o("img",{staticStyle:{width:"100%"},attrs:{src:t.formItem.imageUrl}}):t._e()])],1)},a=[],n=o("oPCX"),r=o("GGLb"),l=o("wnYN"),s={components:{Editor:n["a"]},data:function(){return{formItem:{title:"",imageUrl:"",field:"",isRecommend:!0,isTop:!0,content:"",originUrl:"",isActive:0},imageViewVisible:!1,tags:[],uploadHeader:{authorization:Object(l["m"])()}}},mounted:function(){this.formItem.content=""},methods:{handleChange:function(t,e){console.log(t,e)},handleSave:function(t){var e=this;Object(r["a"])(this.formItem).then(function(t){200===t.code&&t.data&&(e.$Notice.success({title:"保存成功"}),e.$router.push({name:"xzgo_articlelist"}))})},handleSubmit:function(t){var e=this,o=this;this.formItem.isActive=1,Object(r["a"])(this.formItem).then(function(t){console.log(t),200===t.code&&t.data&&(e.$Notice.success({title:"发布成功"}),e.$router.push({name:"xzgo_articlelist"}))}).catch(function(t){o.$Modal.error({title:"抱歉",content:t.content})})},handleUploadSuccess:function(t){t&&200===t.code&&t.data.length>0&&(this.formItem.imageUrl=t.data[0])},handleLogoView:function(){this.imageViewVisible=!0},handleLogoRemove:function(){this.formItem.imageUrl=""}}},c=s,m=(o("QWu0"),o("KHd+")),u=Object(m["a"])(c,i,a,!1,null,null,null);e["default"]=u.exports},GGLb:function(t,e,o){"use strict";o.d(e,"b",function(){return a}),o.d(e,"a",function(){return n});o("VRzm");var i=o("Zt8a");function a(t,e){return i["a"].request({url:"/article/list",method:"get",params:{page:t,count:e}})}function n(t){return i["a"].request({url:"/article/create",method:"post",data:t})}},NhfR:function(t,e,o){"use strict";var i=o("3mzg"),a=o.n(i);a.a},QWu0:function(t,e,o){"use strict";var i=o("iiDI"),a=o.n(i);a.a},TVjc:function(t,e,o){},iiDI:function(t,e,o){},oPCX:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"editor-wrapper"},[o("div",{attrs:{id:t.editorId}})])},a=[],n=o("GguQ"),r=o.n(n),l=(o("TVjc"),o("kN7S")),s={name:"Editor",props:{value:{type:String,default:""},valueType:{type:String,default:"html",validator:function(t){return Object(l["g"])(t,["html","text"])}},changeInterval:{type:Number,default:200},cache:{type:Boolean,default:!0}},computed:{editorId:function(){return"editor".concat(this._uid)}},mounted:function(){var t=this;this.editor=new r.a("#".concat(this.editorId)),this.editor.customConfig.onchange=function(e){var o=t.editor.txt.text();t.cache&&(localStorage.editorCache=e),t.$emit("input","html"===t.valueType?e:o),t.$emit("on-change",e,o)},this.editor.customConfig.onchangeTimeout=this.changeInterval,this.editor.create();var e=localStorage.editorCache;e&&this.editor.txt.html(e)}},c=s,m=(o("NhfR"),o("KHd+")),u=Object(m["a"])(c,i,a,!1,null,null,null),d=u.exports;e["a"]=d}}]);