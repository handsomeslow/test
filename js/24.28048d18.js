(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[24],{"7K0E":function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("Card",{attrs:{shadow:""}},[o("Form",{ref:"formItem",attrs:{model:t.formItem,"label-width":80,rules:t.ruleValidate}},[o("FormItem",{attrs:{label:"标题",prop:"title"}},[o("Input",{attrs:{placeholder:"请输入文章标题..."},model:{value:t.formItem.title,callback:function(e){t.$set(t.formItem,"title",e)},expression:"formItem.title"}})],1),t._v(" "),o("FormItem",{attrs:{label:"Logo",prop:"imageUrl"}},[t.formItem.imageUrl?o("div",{staticClass:"upload-list"},[o("img",{attrs:{src:t.formItem.imageUrl}}),t._v(" "),o("div",{staticClass:"upload-list-cover"},[o("Icon",{attrs:{type:"ios-eye-outline"},nativeOn:{click:function(e){t.handleLogoView()}}}),t._v(" "),o("Icon",{attrs:{type:"ios-trash-outline"},nativeOn:{click:function(e){t.handleLogoRemove()}}})],1)]):o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"78px"},attrs:{"on-success":t.handleUploadSuccess,format:["jpg","jpeg","png"],"max-size":2048,type:"drag",headers:t.uploadHeader,action:t.uploadApi}},[o("div",{staticStyle:{width:"78px",height:"78px","line-height":"78px"}},[o("Icon",{attrs:{type:"ios-camera",size:"20"}})],1)])],1),t._v(" "),o("FormItem",{attrs:{label:"文章类别",prop:"field"}},[o("Select",{staticStyle:{width:"160px"},model:{value:t.formItem.field,callback:function(e){t.$set(t.formItem,"field",e)},expression:"formItem.field"}},[o("Option",{attrs:{value:"校园招聘"}},[t._v("校园招聘")]),t._v(" "),o("Option",{attrs:{value:"实习信息"}},[t._v("实习信息")]),t._v(" "),o("Option",{attrs:{value:"官方活动"}},[t._v("官方活动")])],1)],1),t._v(" "),o("FormItem",{attrs:{label:"招聘方向",prop:"category"}},[o("CheckboxGroup",{model:{value:t.formItem.category,callback:function(e){t.$set(t.formItem,"category",e)},expression:"formItem.category"}},[o("Checkbox",{attrs:{label:"互联网"}}),t._v(" "),o("Checkbox",{attrs:{label:"游戏"}}),t._v(" "),o("Checkbox",{attrs:{label:"IT"}}),t._v(" "),o("Checkbox",{attrs:{label:"科技"}}),t._v(" "),o("Checkbox",{attrs:{label:"机械"}}),t._v(" "),o("Checkbox",{attrs:{label:"电气"}}),t._v(" "),o("Checkbox",{attrs:{label:"土木"}}),t._v(" "),o("Checkbox",{attrs:{label:"建筑"}}),t._v(" "),o("Checkbox",{attrs:{label:"交通"}}),t._v(" "),o("Checkbox",{attrs:{label:"制造"}}),t._v(" "),o("Checkbox",{attrs:{label:"金融"}}),t._v(" "),o("Checkbox",{attrs:{label:"能源"}}),t._v(" "),o("Checkbox",{attrs:{label:"航空"}}),t._v(" "),o("Checkbox",{attrs:{label:"教育"}})],1)],1),t._v(" "),o("FormItem",{attrs:{label:"是否内推"}},[o("Row",[o("Col",{attrs:{span:"6"}},[o("FormItem",[o("i-switch",{attrs:{size:"large"},model:{value:t.formItem.isRecommend,callback:function(e){t.$set(t.formItem,"isRecommend",e)},expression:"formItem.isRecommend"}},[o("span",{attrs:{slot:"open"},slot:"open"},[t._v("On")]),t._v(" "),o("span",{attrs:{slot:"close"},slot:"close"},[t._v("Off")])])],1)],1),t._v(" "),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"是否在banner显示"}},[o("i-switch",{attrs:{size:"large"},model:{value:t.formItem.isTop,callback:function(e){t.$set(t.formItem,"isTop",e)},expression:"formItem.isTop"}},[o("span",{attrs:{slot:"open"},slot:"open"},[t._v("On")]),t._v(" "),o("span",{attrs:{slot:"close"},slot:"close"},[t._v("Off")])])],1)],1)],1)],1),t._v(" "),o("FormItem",{attrs:{label:"原文地址"}},[o("Input",{attrs:{placeholder:"请输入原文地址..."},model:{value:t.formItem.originUrl,callback:function(e){t.$set(t.formItem,"originUrl",e)},expression:"formItem.originUrl"}})],1),t._v(" "),o("FormItem",{attrs:{label:"文章详情",prop:"content"}},[o("div",{ref:"editor",staticStyle:{"text-align":"left"}})]),t._v(" "),o("FormItem",[o("Button",{attrs:{type:"primary"},on:{click:function(e){t.handleSubmit("formItem",0)}}},[t._v("保存")]),t._v(" "),o("Button",{staticStyle:{"margin-left":"15px"},attrs:{type:"warning"},on:{click:function(e){t.handleSubmit("formItem",2)}}},[t._v("发布")]),t._v(" "),o("Button",{staticStyle:{"margin-left":"15px"}},[t._v("取消")])],1)],1),t._v(" "),o("Modal",{attrs:{title:"View Image"},model:{value:t.imageViewVisible,callback:function(e){t.imageViewVisible=e},expression:"imageViewVisible"}},[t.imageViewVisible?o("img",{staticStyle:{width:"100%"},attrs:{src:t.formItem.imageUrl}}):t._e()])],1)},r=[],i=o("GguQ"),n=o.n(i),s=o("sT5k"),l=o("wnYN"),c={components:{Editor:n.a},data:function(){return{formItem:{title:"",imageUrl:"",field:"",isRecommend:!0,isTop:!0,content:"",originUrl:"",isActive:0},ruleValidate:{title:[{required:!0,message:"标题不可为空",trigger:"blur"}],content:[{required:!0,message:"文章内容不可为空",trigger:"blur"}],imageUrl:[{required:!0,message:"logo还未上传",trigger:"blur"}],category:[{required:!0,type:"array",min:1,message:"至少选择一个招聘方向",trigger:"change"},{type:"array",max:5,message:"选择已达到上限",trigger:"change"}],field:[{required:!0,message:"请选择文章类别",trigger:"change"}]},imageViewVisible:!1,tags:[],uploadHeader:{authorization:Object(l["m"])()},uploadApi:"".concat(l["a"],"/article/upload")}},mounted:function(){var t=this;this.formItem.content="",this.formItem=this.$route.params;var e=new n.a(this.$refs.editor);e.customConfig.onchange=function(e){t.formItem.content=e},e.create(),e.txt.html(this.formItem.content)},methods:{handleSubmit:function(t,e){var o=this,a=this;this.$Loading.start(),this.formItem.isActive=e,this.$refs[t].validate(function(t){t?Object(s["a"])(o.formItem).then(function(t){o.$Notice.success({title:"保存成功"}),o.$router.push({name:"articlelist"})}).catch(function(t){a.$Modal.error({title:"抱歉",content:t.content})}).then(function(t){o.$Loading.finish()}):(o.$Loading.finish(),o.$Notice.error({title:"内容不完善，请检查后重新保存"}))})},handleUploadSuccess:function(t){t&&200===t.code&&t.data.length>0&&this.$set(this.formItem,"imageUrl",t.data[0])},handleLogoView:function(){this.imageViewVisible=!0},handleLogoRemove:function(){this.$set(this.formItem,"imageUrl","")},showAcessDialog:function(){var t=this;this.$Modal.success({title:"未认证账号",content:"很抱歉该账号还未认证，认证后即可无限制发布校招信息，请先认证",okText:"去认证",onOk:function(){t.toSubmitCompany()}})},toSubmitCompany:function(){this.$router.push({name:"company_info"})}}},m=c,u=(o("wqvq"),o("KHd+")),d=Object(u["a"])(m,a,r,!1,null,null,null);e["default"]=d.exports},Pie8:function(t,e,o){},sT5k:function(t,e,o){"use strict";o.d(e,"e",function(){return r}),o.d(e,"c",function(){return i}),o.d(e,"a",function(){return n}),o.d(e,"b",function(){return s}),o.d(e,"f",function(){return l}),o.d(e,"d",function(){return c});o("VRzm");var a=o("Zt8a");function r(){return a["a"].request({url:"/getRecommendList",method:"get"})}function i(t,e){return a["a"].request({url:"/article/list",method:"get",params:{page:t,count:e}})}function n(t){return a["a"].request({url:"/article/create",method:"post",data:t})}function s(t){return a["a"].request({url:"/article/delete",method:"post",data:{id:t}})}function l(t){return a["a"].request({url:"/company/create",method:"post",data:t})}function c(t){return a["a"].request({url:"/company/getinfo",method:"get",params:{id:t}})}},wqvq:function(t,e,o){"use strict";var a=o("Pie8"),r=o.n(a);r.a}}]);